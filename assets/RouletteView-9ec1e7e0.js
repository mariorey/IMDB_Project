import{_ as F,o as n,c as i,a as e,h as r,F as I,C as T,j as A,m as V,b as x,n as d,e as S,w as E,T as B,i as M}from"./index-ed083555.js";const P={name:"CustomRoulette",props:{options:{type:Array,default:[]}},data(){return{optionIndex:0,times:0}},methods:{spin(){this.times+=1;let o=this.optionIndex;do this.optionIndex=Math.floor(Math.random()*8);while(this.optionIndex===o);let s=this.times*360*10-45*this.optionIndex,t=document.querySelector(".options__container");t.style.transform="rotate("+s+"deg)",setTimeout(()=>{this.$emit("spin-complete",this.options[this.optionIndex])},5e3)}}},Y=e("span",{class:"arrow"},"â‡©",-1),j={class:"wheel__container"},q={class:"button__container"},z={class:"options__container"},D={class:"one"},H=["src"],L={class:"two"},U=["src"],J={class:"three"},K=["src"],Q={class:"four"},W=["src"],X={class:"five"},Z=["src"],$={class:"six"},ee=["src"],te={class:"seven"},se=["src"],oe={class:"eight"},ne=["src"];function ie(o,s,t,N,c,l){var a,p,_,u,h,m,g,v,f,C,G,w,R,k,y,b;return n(),i(I,null,[Y,e("div",j,[e("div",q,[e("button",{id:"spin",class:"spin",onClick:s[0]||(s[0]=(...O)=>l.spin&&l.spin(...O))},"Spin")]),e("div",z,[e("div",D,[(a=t.options[0])!=null&&a.poster_path?(n(),i("img",{key:0,src:"https://image.tmdb.org/t/p/w500"+((p=t.options[0])==null?void 0:p.poster_path)},null,8,H)):r("",!0)]),e("div",L,[(_=t.options[1])!=null&&_.poster_path?(n(),i("img",{key:0,src:"https://image.tmdb.org/t/p/w500"+((u=t.options[1])==null?void 0:u.poster_path)},null,8,U)):r("",!0)]),e("div",J,[(h=t.options[2])!=null&&h.poster_path?(n(),i("img",{key:0,src:"https://image.tmdb.org/t/p/w500"+((m=t.options[2])==null?void 0:m.poster_path)},null,8,K)):r("",!0)]),e("div",Q,[(g=t.options[3])!=null&&g.poster_path?(n(),i("img",{key:0,src:"https://image.tmdb.org/t/p/w500"+((v=t.options[3])==null?void 0:v.poster_path)},null,8,W)):r("",!0)]),e("div",X,[(f=t.options[4])!=null&&f.poster_path?(n(),i("img",{key:0,src:"https://image.tmdb.org/t/p/w500"+((C=t.options[4])==null?void 0:C.poster_path)},null,8,Z)):r("",!0)]),e("div",$,[(G=t.options[5])!=null&&G.poster_path?(n(),i("img",{key:0,src:"https://image.tmdb.org/t/p/w500"+((w=t.options[5])==null?void 0:w.poster_path)},null,8,ee)):r("",!0)]),e("div",te,[(R=t.options[6])!=null&&R.poster_path?(n(),i("img",{key:0,src:"https://image.tmdb.org/t/p/w500"+((k=t.options[6])==null?void 0:k.poster_path)},null,8,se)):r("",!0)]),e("div",oe,[(y=t.options[7])!=null&&y.poster_path?(n(),i("img",{key:0,src:"https://image.tmdb.org/t/p/w500"+((b=t.options[7])==null?void 0:b.poster_path)},null,8,ne)):r("",!0)])])])],64)}const le=F(P,[["render",ie]]);const re={name:"RouletteView",components:{CustomCard:T,CustomRoulette:le,CardPopup:A},data(){return{selectedGenres:[],selectedFilm:null}},computed:{...V(["rouletteFilms"])},methods:{selectGenre(o){this.selectedGenres.includes(o)?(this.selectedGenres.splice(this.selectedGenres.indexOf(o),1),this.$store.commit("setGenresRoulette",this.selectedGenres),this.$store.dispatch("fetchRoulette",this.selectedGenres)):(this.selectedGenres.push(o),this.$store.commit("setGenresRoulette",this.selectedGenres),this.$store.dispatch("fetchRoulette",this.selectedGenres))},onSpinComplete(o){this.selectedFilm=o,console.log(o)}}},ce={class:"filters__wrapper"},_e=e("span",{class:"title"}," GENRE ",-1),de={class:"filters__genre"},ae={class:"wrapperResults"},pe={class:"film__results"},ue=e("span",{class:"title"}," RESULTS ",-1);function he(o,s,t,N,c,l){const a=x("CustomRoulette"),p=x("CardPopup");return n(),i(I,null,[e("div",ce,[_e,e("div",de,[e("button",{class:d(["filters__genre--option",{active:c.selectedGenres.includes("28")}]),onClick:s[0]||(s[0]=_=>l.selectGenre("28"))},"ACTION",2),e("button",{class:d(["filters__genre--option",{active:c.selectedGenres.includes("27")}]),onClick:s[1]||(s[1]=_=>l.selectGenre("27"))},"HORROR",2),e("button",{class:d(["filters__genre--option",{active:c.selectedGenres.includes("35")}]),onClick:s[2]||(s[2]=_=>l.selectGenre("35"))},"COMEDY",2),e("button",{class:d(["filters__genre--option",{active:c.selectedGenres.includes("14")}]),onClick:s[3]||(s[3]=_=>l.selectGenre("14"))},"FANTASY",2),e("button",{class:d(["filters__genre--option",{active:c.selectedGenres.includes("10749")}]),onClick:s[4]||(s[4]=_=>l.selectGenre("10749"))},"ROMANTIC",2)])]),e("div",ae,[S(a,{options:o.rouletteFilms,onSpinComplete:l.onSpinComplete},null,8,["options","onSpinComplete"]),e("div",pe,[ue,S(B,{name:"fade"},{default:E(()=>[c.selectedFilm?(n(),M(p,{key:0,class:"results__card",film:c.selectedFilm},null,8,["film"])):r("",!0)]),_:1})])])],64)}const ge=F(re,[["render",he]]);export{ge as default};
